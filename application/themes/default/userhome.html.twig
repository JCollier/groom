{% block content %}
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>User Home Page</title>
        <script src="{{ js_path['global'] }}"></script>
        <script src="{{ js_path['jquery'] }}"></script>
        <script>
            function getUsers( p, n, s ) {
                console.log( 'loaded!' );

                if( p == "" ) {
                    document.getElementById( "txtHint" ).innerHTML = "";
                    return;
                }

                if( window.XMLHttpRequest ) { // code for IE7+, Firefox, Chrome, Opera, Safari
                    xmlhttp = new XMLHttpRequest();
                }
                else { // code for IE6, IE5
                    xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
                }

                xmlhttp.onreadystatechange = function() {
                    if( xmlhttp.readyState == 4 && xmlhttp.status == 200 ) {
                        document.getElementById( "item-upload-block" ).innerHTML = xmlhttp.responseText;
                    }
                }

                var url = "";

                xmlhttp.open( "GET","../groom/ajax/get_item_upload_block?p=" + p +
                                                           "&n=" + n +
                                                           "&s=" + s, true ) ;
                xmlhttp.send();

                //document.getElementById('userhome-nav-container').scrollIntoView();
                // if ($('#userhome-nav-container')) {
                //     $('html, body').animate({scrollTop:$('#userhome-nav-container').position().top}, 'slow');
                // }
            }

            window.onload = getUsers( 4, 5, 'id' );
        </script>
        <script type="text/javascript">
            console.log( 'testJS!' );

            function showRegister() {
                document.getElementById('register-block').style.display="inline";
                document.getElementById('login-block').style.display="none";
            }

            alert('a');

                $("div").hover(function(){
                    alert('hdhhdd');
                });

            $(document).ready(function(){
                alert('b');
            });

            $(document).ready(function(){
                var counter = 0;
                var mouseX = 0;
                var mouseY = 0;
                var imgid = 0;
                var str = '';

                $(document).ready(function(e) { // make sure the image is click
                    alert('test!');

                    //var imgtag = $(this).parent(); // get the div to append the tagging list

                    //var imgtag = $("#imgtag img");

                    var imgtag = document.getElementById("imgtag");

                    //imgid = $(this).attr( "id" ); if you need to fetch tags by specific images

                    console.log(imgtag);

                    console.log(imgtag.offset());

                    mouseX = ( e.pageX - $(imgtag).offset().left ) - 50; // x and y axis
                    mouseY = ( e.pageY - $(imgtag).offset().top ) - 50;
                    $( '#tagit' ).remove( ); // remove any tagit div first
                    $( imgtag ).append( '<div id="tagit"><div class="box"></div><div class="name"><div class="text">Type any name or tag</div><input type="text" name="txtname" class="search" id="tagname" /><div id="result"></div><input type="button" name="btnsave" value="Save" id="btnsave" /><input type="button" name="btncancel" value="Cancel" id="btncancel" /></div></div>' );
                    $( '#tagit' ).css({ top:mouseY, left:mouseX });

                    $('#tagname').focus();
                });

                // autocomplete
                // check for input and send an ajax request with the characters typed.

                // $( "#container" ).on( 'keyup', '#tagname', function() {
                //     str = $(this).val();
                //     if( str != '' ) {
                //     $.post( "ajax.php", "search=" + str + "&action=search", function( data ) {
                //     $( "#result" ).html( data ).show(); //show the query results in div.
                //     });
                //     }
                // });

                // // hide the result div when clicked away from the input.
                // $( document ).click( function( e ) {
                //     var $clicked = $( e.target );
                //     if (! $clicked.hasClass("search") ) {
                //     $( '#result' ).fadeOut();
                //     }
                // });

                // // show the result div when clicked on the input.
                // $( '#container' ).on( 'click', '#tagname', function() {
                //     if( $.trim( $("#result").text() ) != '' ) {
                //     $( '#result' ).fadeIn();
                //     }
                // });

                // // fill the input with the value selected from the auto search result.
                // $( "#container" ).on( 'click', '.ntag', function(e) {
                //     var txt = $(this).text();
                //     $( '#tagname' ).val( txt );
                // });

                // // Save button click - save tags
                // $( document ).on( 'click',  '#tagit #btnsave', function(){
                //     name = $('#tagname').val();
                //     var img = $('#imgtag').find( 'img' );
                //     var id = $( img ).attr( 'id' );
                //     $.ajax({
                //     type: "POST",
                //     url: "ajax.php",
                //     data: "pic_id=" + id + "&name=" + name + "&pic_x=" + mouseX + "&pic_y=" + mouseY + "&action=insert",
                //     cache: true,
                //     success: function(data) {
                //     viewtag( id );
                //     $('#tagit').fadeOut();
                //     }
                //     });
                // });

                // // Cancel the tag box.
                // $( document ).on( 'click', '#tagit #btncancel', function() {
                //     $('#tagit').fadeOut();
                // });

                // // mouseover the taglist
                // $('#taglist').on( 'mouseover', 'li', function( ) {
                //     id = $(this).attr("id");
                //     $('#view_' + id).css({ opacity: 1.0 });
                //     }).on( 'mouseout', 'li', function( ) {
                //     $('#view_' + id).css({ opacity: 0.0 });
                // });

                // // mouseover the tagboxes that is already there but opacity is 0.
                // $( '#tagbox' ).on( 'mouseover', '.tagview', function( ) {
                //     var pos = $( this ).position();
                //     $(this).css({ opacity: 1.0 }); // div appears when opacity is set to 1.
                // }).on( 'mouseout', '.tagview', function( ) {
                //     $(this).css({ opacity: 0.0 }); // hide the div by setting opacity to 0.
                // });

                // // Remove tags.
                // $( '#taglist' ).on('click', '.remove', function() {
                //     id = $(this).parent().attr("id");
                //     // Remove the tag
                //     $.ajax({
                //     type: "POST",
                //     url: "ajax.php",
                //     data: "tag_id=" + id + "&action=delete",
                //     success: function(data) {
                //     var img = $('#imgtag').find( 'img' );
                //     var id = $( img ).attr( 'id' );
                //     //get tags if present
                //     viewtag( id );
                //     }
                //     });
                // });

                // // load the tags for the image when page loads.
                // var img = $('#imgtag').find( 'img' );
                // var id = $( img ).attr( 'id' );

                // viewtag( id ); // view all tags available on page load

                // function viewtag( pic_id )
                // {
                //     // get the tag list with action remove and tag boxes and place it on the image.
                //     $.post( "ajax.php" ,  "pic_id=" + pic_id + "&action=view", function( data ) {
                //         $('#taglist ol').html(data.lists);
                //         $('#tagbox').html(data.boxes);
                //     }, "json");
                // }
            });

        </script>
        <link rel="stylesheet" type="text/css" href="{{ css_path['global'] }}">
        <link rel="stylesheet" type="text/css" href="{{ css_path['bootstrap'] }}">
        <link rel="stylesheet" type="text/css" href="{{ css_path['bootstrap_theme'] }}">
    </head>

    <div
        id="container-home"
        style="
            overflow-x:hidden;
            overflow-y:hidden;
            position:relative;
            width:100%;
            height:1900px;
            background: -webkit-gradient(linear, left top, left bottom, from(#29aba4), to(#3A62B8), color-stop(1.5, #29aba4));"
        class="
            width-full
            pos-float-left"
    >
        <div style="height:27%; width:100%; position:absolute; top:0; left:0; z-index:10;">
            <div style="
                    /* border-top:2px solid #eb7260; */
                    background-color:#ffffff;
                    height:4%;">
                    <div style="height:30%; width:100%;"></div>
                        <div style="height:40%; display:inline-block; float:right; padding-right:1%;">
                        </div>
                    <div style="height:30%; width:100%;"></div>
            </div>
            <div style="height:100%;">
                <div style="height:100%;">
                    <div style="width:100%; height:100%; text-align:center; background-color: rgba(211, 213, 212, 0.1);
                    border-bottom: 1px solid rgba(211,213,212,0.1);
                    border-top: 1px solid #d3d5d4;">
                        <div style="width:100%; height:100%; ">
                            <div style="width:100%; height:100%;">
                                <div style="width:35%; height:100%; float:left"></div>
                                <div style="width:30%; height:100%; float:left; text-align:center; margin-left:auto; margin-right:auto;">
                                    <div style="width:100%; height:20%;"></div>
                                    <div style="width:30%; padding-bottom:30%; height:0; background-color:rgba(211,211,211,0.3); border:4px solid white; border-radius:100%; float:left; text-align:center; margin:5% auto 0 auto;">
                                    </div>
                                    <div style="max-height:200px; width:40%; padding-bottom:40%; height:0; background-color:rgba(211,211,211,0.7); border:4px solid white; border-radius:100%; float:left; text-align:center; margin-left:auto; margin-right:auto;">
                                    </div>
                                    <div style="width:30%; padding-bottom:30%; height:0; border:4px solid white; background-color:rgba(211,211,211,0.3); border-radius:100%; float:left; text-align:center; margin:5% auto 0 auto;">
                                    </div>
                                </div>
                                <div style="width:35%; height:100%; float:left"></div>
                            </div>

                        </div>
                        <div style="width:100%; height:20%; display:none;">
                            <div style="width:35%; height:100%; float:left">
                            </div>

                            <div class="home-link" style="width:30%; height:100%; float:left; text-align:center; margin-left:auto; margin-right:auto;">
                                <div style="width:20%; height:100%; display:inline-block; float:left;">
                                    <div style="width:100%; height:40%;"></div>
                                </div>
                                {% for link in links_home %}
                                    <a href="#" onClick="alert('test!')">
                                        <div
                                            onmouseover="document.getElementById('div1').style.display = 'block';"
                                            class="link-home" id="link-home-{{ link['page'] }}"
                                            style="
                                                width:20%;
                                                height:40%;
                                                display:inline-block;
                                                float:left;
                                                background-color:rgba(255, 255, 255, 0.7);
                                                border:1px solid rgba(255, 255, 255, 0.7);
                                                border-right:0px !important;
                                                border-radius:0px;">
                                            <div style="width:100%; height:20%;"></div>
                                            <div style="width:100%; height:60%;">{{ link['label'] }}</div>
                                            <div style="width:100%; height:20%;"></div>
                                        </div>
                                    </a>
                                {% endfor %}
                            </div>

                            <div style="width:20%; height:100%; display:inline-block; float:left;">
                                <div style="width:100%; height:40%;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div style="height:120px; border-top:4px solid #eb7260; background-color:#ffffff; display:none;">
                <div style="height:30%; width:100%;"></div>
                    <div style="height:40%; display:inline-block; float:right; padding-right:1%;">
                        {% for link in links_header %}
                            <div align="right" class="label label-info-light" style="opacity:0.6; height:100%; width:120px; float:left; margin:0px 10px 0px 10px;">
                                <a href="{{ link['url'] }}">{{ link['label']}}</a></div>
                        {% endfor %}
                    </div>
                <div style="height:35%; width:100%;"></div>
        </div>

        <div id="bg-home-portrait" style="background-image:url({{ bg_portrait }}); min-width: 2800px; height:28%; background-repeat:no-repeat; background-position:left top; background-size:60% auto; opacity:0.95;">
            <div style="width:100%; height:100%;">
                <div id="bg-home-portrait" style="position:absolute; top:0; background-image:url({{ bg_portrait }}); height:3200px; background-repeat:no-repeat; background-position:center top; background-size:100% auto; opacity:0.7;"></div>
            </div>
        </div>


        <div id="userhome-nav-container" style="height:22%; width:100%; min-height:360px;">
            <div style="width:100%; height:100%;">
                <div style="width:100%; height:100%; float:left; z-index:1000;">
                    <div style="width:100%; height:100%; padding-top:2%; padding-left:12%;">
                        <div id="userhome-nav-block" style="height:200px; width:100%; margin:0 7% 0 7%;">
                            <a style="background-size:100% 100%; background-image:url(htdocs/images_1/default/learn_more.jpg);"
                                class="user-nav-home-button user-nav-button-left"
                                onclick="console.log('i3uhff'); getUsers(1, 5, 'id' );">
                                <div style="height:100%; width:100%; padding:60% 0 0 0;">
                                    <div style="width:100%; background-color:rgba(255,255,255,0.3); text-align:center;">LEARN MORE</div>
                                </div>
                            </a>
                            <a style="background-size:100% 100%; background-image:url(htdocs/images_1/default/about_us.jpg);"
                                class="user-nav-home-button user-nav-button-left"
                                onclick="console.log('i3uhff'); getUsers(2, 5, 'id' );">
                                <div style="height:100%; width:100%; padding:60% 0 0 0;">
                                    <div style="width:100%; background-color:rgba(255,255,255,0.3); text-align:center;">ABOUT US</div>
                                </div>
                            </a>
                            <a style="background-size:100% 100%; background-image:url(htdocs/images_1/default/your_items.jpg);"
                                class="user-nav-home-button user-nav-button-left"
                                onclick="console.log('i3uhff'); getUsers(3, 5, 'id' );">
                                <div style="height:100%; width:100%; padding:60% 0 0 0;">
                                    <div style="width:100%; background-color:rgba(255,255,255,0.3); text-align:center;">YOUR ITEMS</div>
                                </div>
                            </a>
                            <a style="background-size:100% 100%; background-image:url(htdocs/images_1/default/get_started.jpg);"
                                class="user-nav-home-button user-nav-button-left"
                                onclick="console.log('i3uhff'); getUsers(4, 5, 'id' );">
                                <div style="height:100%; width:100%; padding:60% 0 0 0;">
                                    <div style="width:100%; background-color:rgba(255,255,255,0.3); text-align:center;">GET STARTED</div>
                                </div>
                            </a>
                        </div>
                    </div>

                    <div id="userhome-action-block" style="width:100%; height:100%; display:block;">
                        <div id="item-upload-block" style="width:100%; height:100%; display:block;">
                            <div><b>Users info will be listed here.</b></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>
</html>

{% endblock %}
